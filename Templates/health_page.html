<!DOCTYPE html>
<html lang="en">

<head>
    {% extends "index.html" %}
    <title>{% block title %}Health Page{% endblock %}</title>
</head>
{% block content %}

<body>
    <div class="navbar"></div>
    <div class="container1" style="display: flex; justify-content: center; align-items: center; min-height: 50px;">
        <div class="forecast" id="forecast">
        </div>
    </div>
    <div class="container">
        <h1>How to deal with the season: <span id="season"></span></h1>
        <div class="advice-box" id="advice-box">
            <!-- Advice will be displayed here -->
        </div>

    </div>
    <script>
        const apiKey = '0f98d01acd0e41818d8124023242111';
        const apiUrl = `http://api.weatherapi.com/v1/forecast.json?key=0f98d01acd0e41818d8124023242111&q=horsham&days=6&aqi=no`;

        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                const forecastContainer = document.getElementById('forecast');
                forecastContainer.innerHTML = data.forecast.forecastday.map((day, index) => {
                    const date = new Date(day.date);
                    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                    const formattedDate = index === 0 ? 'Today' : date.toLocaleDateString('en-US', options);
                    return `
                        <div class="weather-card">
                            <h2>${data.location.name} - ${formattedDate}</h2>
                            <img src="${day.day.condition.icon}" alt="Weather Icon">
                            <p>${day.day.condition.text}</p>
                            <p>Max Temp: ${day.day.maxtemp_c}°C</p>
                            <p>Min Temp: ${day.day.mintemp_c}°C</p>
                        </div>
                    `;
                }).join('');
            })
            .catch(error => console.error('Error fetching weather data:', error));
          
                const advice = {
                    winter: [
                        "Stay Warm: Dress in layers to keep warm and protect against the cold. Wear hats, gloves, and scarves to cover exposed skin.",
                        "Hydrate: Drink plenty of water to stay hydrated, as indoor heating can cause dehydration.",
                        "Moisturize: Use moisturizers to prevent dry skin caused by cold weather and indoor heating.",
                        "Eat Nutritiously: Consume a balanced diet rich in vitamins and minerals to boost your immune system.",
                        "Exercise Indoors: Engage in indoor physical activities to stay active and maintain fitness.",
                        "Get Vaccinated: Ensure you are up-to-date with flu vaccinations to protect against seasonal flu.",
                        "Wash Hands: Practice good hygiene by washing hands frequently to prevent the spread of germs.",
                        "Use a Humidifier: Use a humidifier to add moisture to the air and prevent dry skin and respiratory issues.",
                        "Stay Connected: Maintain social connections to combat winter blues and seasonal affective disorder (SAD).",
                        "Monitor Health: Keep an eye on any symptoms of cold or flu and seek medical advice if necessary."
                    ],
                    // Add advice for other seasons here
                };
        
                function getSeason() {
                    const month = new Date().getMonth();
                    if (month >= 2 && month <= 4) return 'spring';
                    if (month >= 5 && month <= 7) return 'summer';
                    if (month >= 8 && month <= 10) return 'autumn';
                    return 'winter';
                }
        
                function displayAdvice() {
                    const season = getSeason();
                    document.getElementById('season').textContent = season;
                    const dailyAdvice = advice[season][new Date().getDate() % advice[season].length];
                    document.getElementById('advice-box').textContent = dailyAdvice;
                }
        
                displayAdvice();
            
    </script>
    <style>
        .forecast {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }

        .weather-card {
            flex: 1 1 calc(33.333% - 20px);
            margin-bottom: 200px;
            margin-left: 10px;
        }
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        .navbar {
            background-color: #333;
            overflow: hidden;
        }
        .navbar a {
            float: left;
            display: block;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }
        .navbar a:hover {
            background-color: #ddd;
            color: black;
        }
        .container {
            padding: 20px;
        }
        .advice-box {
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
    {% endblock %}
</body>
<style>
    .forecast {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .weather-card {
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        text-align: center;
    }

    .weather-card img {
        width: 80px;
        height: 80px;
        margin: 10px auto;
    }

    .weather-card h2 {
        margin: 0;
        color: #333;
    }

    .weather-card p {
        margin: 10px 0;
        color: #666;
    }

    .container1 {
        width: 100%;
        max-width: 600px;
        margin: 20px auto;
        padding: 20px;
    }
</style>

</html>